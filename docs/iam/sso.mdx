# Single Sign-On

## Overview

You may configure your account to use one or more Single Sign-On (SSO) Identity
Providers (IdPs). Once enabled, users can use the IdP to log into your ngrok
dashboard. You may also configure enforcement settings to require that users
must use SSO to log into your ngrok account.

Once you have configured SSO, you may also enable [SCIM](/iam/scim/) to
automate user provisioning of your ngrok account.

Set up SSO on the [Account Settings page](https://dashboard.ngrok.com/settings)
of your ngrok dashboard.

## Supported Providers

ngrok supports identity providers which support either SAML or OpenID Connect for
SSO including
[Okta](https://help.okta.com/oie/en-us/Content/Topics/Apps/apps-about-saml.htm)
and [Microsoft
AzureAD](https://learn.microsoft.com/en-us/azure/active-directory/fundamentals/auth-saml).

## Enforcement

Your account sets an SSO Enforcement policy which controls whether users are
required to log in with SSO.

**Mixed Mode**: In mixed mode, users who existed on your account before you set
up SSO may continue using their existing credentials to log in. All new users
will be required to use SSO.

**SSO Enforced**: In SSO enforced mode, all users must use your SSO IdP to log
in and their existing credentials will no longer allow them to log into your
account.

Keep in mind that after you add an IdP, your account is still in Mixed Mode and
users can continue to log in with their previous credentials. Once you are
confident that your SSO integration is configured correctly, you can switch to
SSO Enforced mode. This helps you avoid inadvertantly locking yourself or your
users out of the account.

## IdP-Initiated Login

ngrok supports IdP-initiated login flows for SAML IdPs. An IdP-initiated login
flow is one in which users can log into your ngrok account by clicking on a
link in your IdP's dashboard.

You may enable IdP-initiated login on a per-IdP basis. The OpenID Connect
protocol does not support IdP-Initiated login so it is not supported for IdPs
you connect that way.

## User Provisioning

When using SSO, you may configure how users are provisioned and deprovisioned
from your ngrok account. You may configure your account to provision users in one
of three modes:

- Explicitly invited by an existing member of your account
- Just-in-time provisioned after they successfully log in with SSO
- Managed via your IdP's [SCIM integration](#scim).

It is recommended that you choose either JIT or SCIM. See [User
Provisioning](/iam-user-provisioning) for more details.

## Multiple IdPs

You may configure mulitple IdPs to use for SSO. If you do, when a user tries to
log in, they will be presented with a choice of which identity provider to use
to log in.

## SCIM

ngrok supports a limited subset of [RFC
7644](https://datatracker.ietf.org/doc/html/rfc7644) to enable SCIM
provisioning and deprovisioning. ngrok's SCIM implementation works with major
IdPs like Okta and Azure AD.

ngrok's SCIM API Base URL is:

```
https://api.ngrok.com/scim/v2/
```

Your IdP will authenticate to ngrok's SCIM API with [API
Keys](/api/#authentication) like any other ngrok API client.

If you use [API IP Restrictions](/api/#ip-restrictions) with SCIM, ensure that
your IdP's SCIM client IPs are allowed.

ngrok does not support SCIM provisioning of users with passwords for
authentication. For that reason, you must first configure an SSO Identity
Provider before you can configure a SCIM integration.

## Pricing

Dashboard Single Sign-On is available on the Enterprise plan.

[Contact us](mailto:support@ngrok.com) for SCIM availability.
